{"ast":null,"code":"import _slicedToArray from\"/home/thaddydore/Desktop/reddish-clone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Link as RouterLink}from'react-router-dom';import AuthFormModal from'./AuthFormModal';import SubFormModal from'./SubFormModal';import UpdateAvatarModal from'./UpdateAvatarModal';import DarkModeMenuItem from'./DarkModeMenuItem';import{getCircularAvatar}from'../utils/cloudinaryTransform';import storageService from'../utils/localStorage';import{IconButton,Menu,MenuItem,Avatar,ListItemIcon,Divider}from'@material-ui/core';import{useUserMenuStyles}from'../styles/muiStyles';import MoreVertIcon from'@material-ui/icons/MoreVert';import AccountCircleIcon from'@material-ui/icons/AccountCircle';import PowerSettingsNewIcon from'@material-ui/icons/PowerSettingsNew';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MobileUserMenu=function MobileUserMenu(_ref){var _loggedUser$avatar;var user=_ref.user,handleLogout=_ref.handleLogout;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),anchorEl=_useState2[0],setAnchorEl=_useState2[1];var classes=useUserMenuStyles();var handleMenu=function handleMenu(event){setAnchorEl(event.currentTarget);};var handleClose=function handleClose(){setAnchorEl(null);};var handleLogoutClick=function handleLogoutClick(){handleClose();handleLogout();};var loggedUser=storageService.loadUser()||user;return/*#__PURE__*/_jsxs(\"div\",{children:[loggedUser?/*#__PURE__*/_jsxs(IconButton,{onClick:handleMenu,className:classes.userBtnMob,children:[(loggedUser===null||loggedUser===void 0?void 0:(_loggedUser$avatar=loggedUser.avatar)===null||_loggedUser$avatar===void 0?void 0:_loggedUser$avatar.exists)?/*#__PURE__*/_jsx(Avatar,{alt:loggedUser.username,src:getCircularAvatar(loggedUser.avatar.imageLink),className:classes.avatar}):/*#__PURE__*/_jsx(Avatar,{className:classes.avatar,children:loggedUser.username[0]}),/*#__PURE__*/_jsx(MoreVertIcon,{color:\"primary\"})]}):/*#__PURE__*/_jsx(IconButton,{onClick:handleMenu,color:\"primary\",children:/*#__PURE__*/_jsx(MoreVertIcon,{color:\"primary\"})}),/*#__PURE__*/_jsx(Menu,{anchorEl:anchorEl,anchorOrigin:{vertical:'top',horizontal:'right'},keepMounted:true,transformOrigin:{vertical:'top',horizontal:'right'},open:Boolean(anchorEl),onClose:handleClose,children:loggedUser?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(MenuItem,{component:RouterLink,to:\"/u/\".concat(loggedUser.username),onClick:handleClose,children:/*#__PURE__*/_jsxs(ListItemIcon,{children:[/*#__PURE__*/_jsx(AccountCircleIcon,{style:{marginRight:7}}),\" My Profile\"]})}),/*#__PURE__*/_jsx(SubFormModal,{type:\"menu\",handleCloseMenu:handleClose}),/*#__PURE__*/_jsx(UpdateAvatarModal,{handleCloseMenu:handleClose,user:loggedUser}),/*#__PURE__*/_jsx(MenuItem,{onClick:handleLogoutClick,children:/*#__PURE__*/_jsxs(ListItemIcon,{children:[/*#__PURE__*/_jsx(PowerSettingsNewIcon,{style:{marginRight:7}}),\" Logout\"]})}),/*#__PURE__*/_jsx(Divider,{variant:\"middle\"}),/*#__PURE__*/_jsx(DarkModeMenuItem,{closeMenu:handleClose})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AuthFormModal,{closeMobileMenu:handleClose}),/*#__PURE__*/_jsx(Divider,{variant:\"middle\"}),/*#__PURE__*/_jsx(DarkModeMenuItem,{closeMenu:handleClose})]})})]});};export default MobileUserMenu;","map":{"version":3,"sources":["/home/thaddydore/Desktop/reddish-clone/client/src/components/MobileUserMenu.js"],"names":["React","useState","Link","RouterLink","AuthFormModal","SubFormModal","UpdateAvatarModal","DarkModeMenuItem","getCircularAvatar","storageService","IconButton","Menu","MenuItem","Avatar","ListItemIcon","Divider","useUserMenuStyles","MoreVertIcon","AccountCircleIcon","PowerSettingsNewIcon","MobileUserMenu","user","handleLogout","anchorEl","setAnchorEl","classes","handleMenu","event","currentTarget","handleClose","handleLogoutClick","loggedUser","loadUser","userBtnMob","avatar","exists","username","imageLink","vertical","horizontal","Boolean","marginRight"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport AuthFormModal from './AuthFormModal';\nimport SubFormModal from './SubFormModal';\nimport UpdateAvatarModal from './UpdateAvatarModal';\nimport DarkModeMenuItem from './DarkModeMenuItem';\nimport { getCircularAvatar } from '../utils/cloudinaryTransform';\nimport storageService from '../utils/localStorage';\n\nimport {\n  IconButton,\n  Menu,\n  MenuItem,\n  Avatar,\n  ListItemIcon,\n  Divider,\n} from '@material-ui/core';\nimport { useUserMenuStyles } from '../styles/muiStyles';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\n\nconst MobileUserMenu = ({ user, handleLogout }) => {\n  const [anchorEl, setAnchorEl] = useState(null);\n  const classes = useUserMenuStyles();\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleLogoutClick = () => {\n    handleClose();\n    handleLogout();\n  };\n\n  const loggedUser = storageService.loadUser() || user;\n\n  return (\n    <div>\n      {loggedUser ? (\n        <IconButton onClick={handleMenu} className={classes.userBtnMob}>\n          {loggedUser?.avatar?.exists ? (\n            <Avatar\n              alt={loggedUser.username}\n              src={getCircularAvatar(loggedUser.avatar.imageLink)}\n              className={classes.avatar}\n            />\n          ) : (\n            <Avatar className={classes.avatar}>{loggedUser.username[0]}</Avatar>\n          )}\n          <MoreVertIcon color=\"primary\" />\n        </IconButton>\n      ) : (\n        <IconButton onClick={handleMenu} color=\"primary\">\n          <MoreVertIcon color=\"primary\" />\n        </IconButton>\n      )}\n      <Menu\n        anchorEl={anchorEl}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n        keepMounted\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        {loggedUser ? (\n          <div>\n            <MenuItem\n              component={RouterLink}\n              to={`/u/${loggedUser.username}`}\n              onClick={handleClose}\n            >\n              <ListItemIcon>\n                <AccountCircleIcon style={{ marginRight: 7 }} /> My Profile\n              </ListItemIcon>\n            </MenuItem>\n            <SubFormModal type=\"menu\" handleCloseMenu={handleClose} />\n            <UpdateAvatarModal\n              handleCloseMenu={handleClose}\n              user={loggedUser}\n            />\n            <MenuItem onClick={handleLogoutClick}>\n              <ListItemIcon>\n                <PowerSettingsNewIcon style={{ marginRight: 7 }} /> Logout\n              </ListItemIcon>\n            </MenuItem>\n            <Divider variant=\"middle\" />\n            <DarkModeMenuItem closeMenu={handleClose} />\n          </div>\n        ) : (\n          <div>\n            <AuthFormModal closeMobileMenu={handleClose} />\n            <Divider variant=\"middle\" />\n            <DarkModeMenuItem closeMenu={handleClose} />\n          </div>\n        )}\n      </Menu>\n    </div>\n  );\n};\n\nexport default MobileUserMenu;\n"]},"metadata":{},"sourceType":"module"}